(function(){"use strict";var e={7237:function(e,t,n){var a=n(9242),i=n(3396),r=n(7139);const s={class:"main"};function l(e,t,n,l,o,d){const c=(0,i.up)("NavDesktop"),u=(0,i.up)("ListContainer"),m=(0,i.up)("AddItem");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c),(0,i.Wm)(u,{newData:o.newAddedItem},null,8,["newData"]),(0,i.Wm)(a.uT,{name:"fade-in"},{default:(0,i.w5)((()=>[o.isVisible?((0,i.wg)(),(0,i.j4)(m,{key:0,onCloseOverlay:d.closeOverlay,onNewData:d.addNewItem},null,8,["onCloseOverlay","onNewData"])):(0,i.kq)("",!0)])),_:1}),(0,i._)("div",{onClick:t[0]||(t[0]=(...e)=>d.togglePopup&&d.togglePopup(...e)),class:(0,r.C_)(["show__add-item",{"hide__add-item":o.isVisible}])},"+",2)])}const o={class:"list__container"},d={key:0,class:"error"},c={class:"list"};function u(e,t,n,a,s,l){const u=(0,i.up)("ListItem");return(0,i.wg)(),(0,i.iD)("div",o,[s.items.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",d,(0,r.zw)(s.error),1)),(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,(e=>((0,i.wg)(),(0,i.j4)(u,{key:e._id,data:e,onDelete:t=>l.deleteItem(e._id)},null,8,["data","onDelete"])))),128))])])}const m={class:"list__item"},p={class:"list__item__row"},_={class:"title"},w={class:"expiration"},f={class:"list__item__row"};function v(e,t,n,a,s,l){return(0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("div",p,[(0,i._)("h3",_,(0,r.zw)(l.capitalize(n.data.name)),1),(0,i._)("p",w,(0,r.zw)(l.calculateDays(l.reverseDate(n.data.expiryDate.split("-")))),1)]),(0,i._)("div",f,[(0,i._)("p",null,(0,r.zw)(l.getCurrentDate),1)]),(0,i._)("div",{onClick:t[0]||(t[0]=t=>e.$emit("delete")),class:"delete__btn"},"Delete")])}var g={name:"ListItem",props:{data:{type:Object,default:()=>{}}},data(){return{currentDate:new Date}},computed:{getCurrentDate(){let e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return n+"-"+t+"-"+a}},methods:{capitalize(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},reverseDate(e){return e.reverse().join("-")},getNumDate(e){let t=e.split("-"),n=[];for(let a=0;a<t.length;a++)n.push(Number(t[a]));return n},calculateDays(e){let t=this.getNumDate(this.getCurrentDate),n=this.getNumDate(e);console.log(t,n)}}},h=n(89);const y=(0,h.Z)(g,[["render",v]]);var D=y;const b=n(6265),I="api/list/";class k{static getItemsList(){return new Promise((async(e,t)=>{try{const t=await b.get(I),n=t.data;e(n.map((e=>({...e,createdAt:new Date(e.createdAt)}))))}catch(n){console.log(n),t(n)}}))}static insertItem(e){return b.post(I,e)}static deleteItem(e){return b.delete(`${I}${e}`)}}var x=k,O={name:"ListContainer",props:{newData:{type:Object,default:()=>{}}},components:{ListItem:D},data(){return{items:[],error:null,newItem:null}},methods:{async deleteItem(e){await x.deleteItem(e),this.items=await x.getItemsList()}},watch:{newData(){this.newData&&(this.newItem=this.newData,this.items.unshift(this.newItem),this.newItem=null)}},async created(){try{this.error=null,this.items=await x.getItemsList()}catch(e){this.error=e}}};const C=(0,h.Z)(O,[["render",u]]);var N=C,A=n.p+"img/food-check-icon.a940e85f.gif";const j={class:"nav-desktop"},L=(0,i._)("div",{class:"site-title"},[(0,i._)("a",{class:"title__link-home",href:"/"},[(0,i._)("img",{class:"logo-img",src:A,alt:"logo image"})])],-1),V={class:"nav-list"},z=["href"];function P(e,t,n,a,s,l){return(0,i.wg)(),(0,i.iD)("div",j,[L,(0,i._)("ul",V,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.nav,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"nav__item"},[(0,i._)("a",{href:e.link},(0,r.zw)(e.title),9,z)])))),128))])])}var $={name:"NavDesktop",data(){return{nav:[{title:"Home",link:"/"},{title:"List",link:"/list"},{title:"Add new",link:"/list/add"}]}}};const Z=(0,h.Z)($,[["render",P]]);var E=Z;const S={class:"add-new__container content"},T={class:"add-new"},U=(0,i._)("h3",{class:"add-new__title"},"Add new food",-1),W={class:"add-new__input-container item__title"},q=(0,i._)("label",{for:"name"},"Food name",-1),F={class:"add-new__input-container item__ex-date"},H=(0,i._)("label",{for:"ex-date"},"Expiration date",-1),M={class:"add-new__input-container item__category"},Y=(0,i._)("label",{for:""},"Category",-1);function K(e,t,n,r,s,l){return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",T,[U,(0,i._)("div",W,[q,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),class:"add-new__input",type:"text",id:"name",name:"name",required:""},null,512),[[a.nr,s.name]])]),(0,i._)("div",F,[H,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.expiryDate=e),class:"add-new__input",type:"date",id:"ex-date",name:"expiryDate"},null,512),[[a.nr,s.expiryDate]])]),(0,i._)("div",M,[Y,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.category=e),class:"add-new__input",type:"text",id:"category",name:"category"},null,512),[[a.nr,s.category]])]),(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addNewItem&&l.addNewItem(...e)),class:"add-new__btn"},"ADD NEW ITEM")]),(0,i._)("div",{onClick:t[4]||(t[4]=t=>e.$emit("closeOverlay",!1)),class:"add-new__overlay"})])}var B={name:"AddItem",data(){return{name:null,expiryDate:null,category:null}},methods:{async addNewItem(){const e={name:this.name,expiryDate:this.expiryDate,category:this.category};await x.insertItem(e),this.$emit("newData",e),this.name=null,this.expiryDate=null,this.category=null,this.$emit("closeOverlay",!1)}}};const G=(0,h.Z)(B,[["render",K]]);var J=G,Q={name:"App",components:{ListContainer:N,NavDesktop:E,AddItem:J},data(){return{isVisible:!1,newAddedItem:null}},methods:{togglePopup(){this.isVisible=!this.isVisible},closeOverlay(e){this.isVisible=e},addNewItem(e){this.newAddedItem=e,console.log("New item: ",e)}}};const R=(0,h.Z)(Q,[["render",l]]);var X=R;(0,a.ri)(X).mount("#app")}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,i,r){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],r=e[c][2];for(var l=!0,o=0;o<a.length;o++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[o])}))?a.splice(o--,1):(l=!1,r<s&&(s=r));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,s=a[0],l=a[1],o=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(o)var c=o(n)}for(t&&t(a);d<s.length;d++)r=s[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7237)}));a=n.O(a)})();
//# sourceMappingURL=app.76255177.js.map